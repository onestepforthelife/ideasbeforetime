<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="preload" href="common-styles.css" as="style">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Dashboard - Automatic Issue Detection</title>
<link rel="icon" type="image/jpeg" href="images/logo Goda 40 bs 32 pixel.jpg">
<link rel="apple-touch-icon" href="images/Logo One Step for the life 180 by 84 Pixel.jpg">
    
    <!-- Common Components -->
    <link rel="stylesheet" href="common-watermark.css">
    <link rel="stylesheet" href="common-footer.css">
    <script src="common-navigation.js" defer></script>
    <script src="common-footer.js" defer></script>
    <script src="universal-analytics.js" defer></script>
    
    <style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f5f5f5;padding:20px;}.container{max-width:1400px;margin:0 auto;background:white;border-radius:15px;padding:30px;box-shadow:0 5px 20px rgba(0,0,0,0.1);}h1{color:#dc3545;margin-bottom:10px;}.subtitle{color:#666;margin-bottom:30px;font-size:1.1em;}.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px;}.stat-card{padding:20px;border-radius:10px;text-align:center;}.stat-card.critical{background:#dc3545;color:white;}.stat-card.high{background:#ffc107;color:#333;}.stat-card.medium{background:#17a2b8;color:white;}.stat-card.total{background:#6c757d;color:white;}.stat-number{font-size:3em;font-weight:bold;margin-bottom:5px;}.stat-label{font-size:0.9em;opacity:0.9;}.issue-list{margin-top:30px;}.issue-card{background:#f8f9fa;border-left:4px solid #dc3545;padding:20px;margin-bottom:15px;border-radius:8px;}.issue-card.high{border-left-color:#ffc107;}.issue-card.medium{border-left-color:#17a2b8;}.issue-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}.issue-type{font-weight:bold;font-size:1.1em;color:#333;}.issue-severity{padding:5px 15px;border-radius:20px;font-size:0.85em;font-weight:bold;}.severity-critical{background:#dc3545;color:white;}.severity-high{background:#ffc107;color:#333;}.severity-medium{background:#17a2b8;color:white;}.issue-message{color:#666;margin-bottom:10px;font-size:1.05em;}.issue-details{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;font-size:0.9em;color:#666;}.detail-item{background:white;padding:8px 12px;border-radius:5px;}.detail-label{font-weight:bold;color:#333;}.buttons{display:flex;gap:15px;margin-bottom:30px;}button{padding:12px 25px;border:none;border-radius:8px;cursor:pointer;font-weight:bold;font-size:1em;transition:all 0.3s;}.btn-refresh{background:#28a745;color:white;}.btn-refresh:hover{background:#218838;}.btn-clear{background:#dc3545;color:white;}.btn-clear:hover{background:#c82333;}.btn-email{background:#007bff;color:white;}.btn-email:hover{background:#0056b3;}.empty-state{text-align:center;padding:60px 20px;color:#999;}.empty-state-icon{font-size:5em;margin-bottom:20px;}.filter-buttons{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;}.filter-btn{padding:8px 20px;border:2px solid #ddd;background:white;border-radius:20px;cursor:pointer;font-size:0.9em;}.filter-btn.active{background:#007bff;color:white;border-color:#007bff;}</style>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3181510462001437"
            crossorigin="anonymous"></script>
    <script src="google-adsense.js"></script>
    <link rel="canonical" href="https://ideasbeforetime.pages.dev/error-dashboard.html">
    <meta name="description" content="Error Dashboard - Automatic Issue Detection - Professional insights and resources from Ideas Before Time">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Ideas Before Time",
  "alternateName": "One Step For The Life",
  "url": "https://onestepforthelife.com",
  "description": "AI tools, market research, business insights, and professional resources",
  "author": {
    "@type": "Person",
    "name": "Amit Kumar",
    "jobTitle": "Business Analyst & AI Specialist"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://onestepforthelife.com/blog.html?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    <link rel="modulepreload" href="common-navigation.js">
</head>
<body>
    <div class="container">
        <h1>üö® Automatic Error Detection Dashboard</h1>
        <p class="subtitle">Real-time monitoring of user issues and broken functionality</p>

        <div class="buttons">
            <button class="btn-refresh" onclick="refreshDashboard()">üîÑ Refresh</button>
            <button class="btn-clear" onclick="clearAllIssues()">üóëÔ∏è Clear All</button>
            <button class="btn-email" onclick="emailAllIssues()">üìß Email Report</button>
        </div>

        <div class="stats" id="stats"></div>

        <div class="filter-buttons" id="filters"></div>

        <div class="issue-list" id="issueList"></div>
    </div>

    <script src="user-error-tracker.js"></script>
    <script>
        let currentFilter = 'all';

        function refreshDashboard() {
            const stats = window.UserErrorTracker.getStats();
            const issues = window.UserErrorTracker.getIssues();

            // Display stats
            displayStats(stats);

            // Display filters
            displayFilters(stats);

            // Display issues
            displayIssues(issues);
        }

        function displayStats(stats) {
            const statsDiv = document.getElementById('stats');
            statsDiv.innerHTML = `
                <div class="stat-card total">
                    <div class="stat-number">${stats.total}</div>
                    <div class="stat-label">Total Issues</div>
                </div>
                <div class="stat-card critical">
                    <div class="stat-number">${stats.critical}</div>
                    <div class="stat-label">Critical</div>
                </div>
                <div class="stat-card high">
                    <div class="stat-number">${stats.high}</div>
                    <div class="stat-label">High Priority</div>
                </div>
                <div class="stat-card medium">
                    <div class="stat-number">${stats.medium}</div>
                    <div class="stat-label">Medium Priority</div>
                </div>
            `;
        }

        function displayFilters(stats) {
            const filtersDiv = document.getElementById('filters');
            let html = '<button class="filter-btn active" onclick="filterIssues(\'all\')">All Issues</button>';
            
            Object.keys(stats.byType).forEach(type => {
                html += `<button class="filter-btn" onclick="filterIssues('${type}')">${type} (${stats.byType[type]})</button>`;
            });
            
            filtersDiv.innerHTML = html;
        }

        function filterIssues(type) {
            currentFilter = type;
            
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Refresh display
            const issues = window.UserErrorTracker.getIssues();
            displayIssues(issues);
        }

        function displayIssues(issues) {
            const issueListDiv = document.getElementById('issueList');
            
            // Filter issues
            let filteredIssues = issues;
            if (currentFilter !== 'all') {
                filteredIssues = issues.filter(i => i.type === currentFilter);
            }
            
            if (filteredIssues.length === 0) {
                issueListDiv.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">‚úÖ</div>
                        <h2>No Issues Detected!</h2>
                        <p>Your website is running smoothly. The tracker will automatically detect and report any user issues.</p>
                    </div>
                `;
                return;
            }

            let html = '';
            filteredIssues.forEach(issue => {
                const severityClass = issue.severity.toLowerCase();
                html += `
                    <div class="issue-card ${severityClass}">
                        <div class="issue-header">
                            <div class="issue-type">${issue.type.replace(/_/g, ' ')}</div>
                            <div class="issue-severity severity-${severityClass}">${issue.severity}</div>
                        </div>
                        <div class="issue-message">${issue.message}</div>
                        <div class="issue-details">
                            <div class="detail-item">
                                <span class="detail-label">Page:</span> ${getShortUrl(issue.page)}
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Time:</span> ${formatTime(issue.timestamp)}
                            </div>
                            ${issue.element ? `
                                <div class="detail-item">
                                    <span class="detail-label">Element:</span> ${issue.element}
                                </div>
                            ` : ''}
                            ${issue.clickCount ? `
                                <div class="detail-item">
                                    <span class="detail-label">Clicks:</span> ${issue.clickCount} times
                                </div>
                            ` : ''}
                            ${issue.loadTime ? `
                                <div class="detail-item">
                                    <span class="detail-label">Load Time:</span> ${Math.round(issue.loadTime/1000)}s
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            });

            issueListDiv.innerHTML = html;
        }

        function getShortUrl(url) {
            try {
                const urlObj = new URL(url);
                return urlObj.pathname || '/';
            } catch {
                return url;
            }
        }

        function formatTime(timestamp) {
            const date = new Date(timestamp);
            const now = new Date();
            const diff = now - date;
            
            if (diff < 60000) return 'Just now';
            if (diff < 3600000) return Math.floor(diff/60000) + ' min ago';
            if (diff < 86400000) return Math.floor(diff/3600000) + ' hours ago';
            
            return date.toLocaleString();
        }

        function clearAllIssues() {
            if (confirm('Clear all issues? This cannot be undone.')) {
                window.UserErrorTracker.clearIssues();
                refreshDashboard();
                alert('‚úÖ All issues cleared!');
            }
        }

        function emailAllIssues() {
            const issues = window.UserErrorTracker.getIssues();
            if (issues.length === 0) {
                alert('No issues to report!');
                return;
            }

            let body = `AUTOMATIC ERROR REPORT\n`;
            body += `Generated: ${new Date().toLocaleString()}\n`;
            body += `Total Issues: ${issues.length}\n\n`;
            body += `${'='.repeat(60)}\n\n`;

            issues.forEach((issue, index) => {
                body += `ISSUE #${index + 1}\n`;
                body += `Type: ${issue.type}\n`;
                body += `Severity: ${issue.severity}\n`;
                body += `Message: ${issue.message}\n`;
                body += `Page: ${issue.page}\n`;
                body += `Time: ${issue.timestamp}\n`;
                if (issue.element) body += `Element: ${issue.element}\n`;
                if (issue.clickCount) body += `Click Count: ${issue.clickCount}\n`;
                body += `\n${'-'.repeat(60)}\n\n`;
            });

            const subject = `üö® Website Error Report - ${issues.length} Issues Detected`;
            const mailtoLink = `mailto:onestepforthelife@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            window.location.href = mailtoLink;
        }

        // Auto-refresh every 30 seconds
        setInterval(refreshDashboard, 30000);

        // Initial load
        refreshDashboard();
    </script>
    
    <!-- Footer will be inserted here by common-footer.js -->

<!-- Quick Links Widget -->
<div class="quick-links-widget" style="position: fixed; right: 20px; bottom: 80px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); padding: 20px; width: 250px; z-index: 999; display: none;" id="quickLinksWidget">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h4 style="margin: 0; color: #5a6c7d; font-size: 16px;">üöÄ Quick Access</h4>
        <button onclick="document.getElementById('quickLinksWidget').style.display='none'" style="background: none; border: none; font-size: 20px; cursor: pointer; color: #999;">&times;</button>
    </div>
    <div style="display: grid; gap: 8px;">
        <a href="index.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üè†</span> Home
        </a>
        <a href="blog.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìù</span> Blog (100 posts)
        </a>
        <a href="about.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üë§</span> About
        </a>
        <a href="cv.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìÑ</span> CV
        </a>
        <a href="market-reports.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìä</span> Reports
        </a>
        <a href="social-optimizer-index.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üöÄ</span> Tools
        </a>
        <a href="library.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìö</span> Library
        </a>
        <a href="innovations.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üí°</span> Innovations
        </a>
    </div>
</div>

<!-- Quick Links Toggle Button -->
<button onclick="document.getElementById('quickLinksWidget').style.display='block'" style="position: fixed; right: 20px; bottom: 20px; width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%); color: white; border: none; font-size: 24px; cursor: pointer; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 998; transition: transform 0.3s;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
    üîó
</button>

<style>.quick-links-widget a:hover{background:#5a6c7d !important;color:white !important;}@media (max-width:768px){.quick-links-widget{right:10px;bottom:70px;width:200px;padding:15px;}}</style>

<script src="goda-chatbot.js"></script>
</body>
</html>
