<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="preload" href="common-styles.css" as="style">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30% Preview System - Test Demo</title>
    <style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:#333;background:#f5f5f5;padding:20px;}.container{max-width: 1400px;margin:0 auto;background:white;padding:40px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1);}h1{color:#2c3e50;margin-bottom:20px;border-bottom:4px solid #3498db;padding-bottom:15px;}h2{color:#2980b9;margin-top:30px;margin-bottom:15px;}p{margin-bottom:15px;font-size:1.05em;}.section{margin:30px 0;padding:20px;background:#f8f9fa;border-radius:5px;}.preview-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient( to bottom,transparent 0%,transparent 30%,rgba(255,255,255,0.95) 30%,rgba(255,255,255,0.98) 100% );z-index:9998;pointer-events:none;}.preview-message{position:fixed;top:35%;left:50%;transform:translateX(-50%);background:white;padding:40px;border-radius:15px;box-shadow:0 10px 50px rgba(0,0,0,0.3);text-align:center;z-index:9999;max-width: 1400px;border:3px solid #2563eb;}.preview-message h2{color:#1e40af;margin-bottom:20px;font-size:28px;}.preview-message p{color:#374151;margin-bottom:15px;font-size:16px;line-height:1.6;}.preview-message .highlight{background:#fef3c7;padding:15px;border-radius:8px;margin:20px 0;border-left:4px solid #f59e0b;}.preview-message .access-info{background:#dbeafe;padding:15px;border-radius:8px;margin:20px 0;font-size:14px;}.preview-message .btn{display:inline-block;padding:12px 30px;background:#2563eb;color: #2c3e50;text-decoration:none;border-radius:8px;margin:10px 5px;font-weight:600;transition:all 0.3s;}.preview-message .btn:hover{background:#1e40af;transform:translateY(-2px);box-shadow:0 5px 15px rgba(37,99,235,0.3);}.preview-message .btn-secondary{background:#6b7280;}.preview-message .btn-secondary:hover{background:#4b5563;}body::after{content:'';position:fixed;top:30%;left:0;width:100%;height:70%;backdrop-filter:blur(8px);z-index:9997;pointer-events:none;}.test-controls{position:fixed;bottom:20px;right:20px;background:#1e40af;color: #2c3e50;padding:15px 25px;border-radius:8px;box-shadow:0 5px 20px rgba(0,0,0,0.3);z-index:10000;cursor:pointer;}.test-controls:hover{background:#1e3a8a;}</style>
    <link rel="canonical" href="https://ideasbeforetime.pages.dev/test-preview-system.html">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Ideas Before Time",
  "alternateName": "One Step For The Life",
  "url": "https://onestepforthelife.com",
  "description": "AI tools, market research, business insights, and professional resources",
  "author": {
    "@type": "Person",
    "name": "Amit Kumar",
    "jobTitle": "Business Analyst & AI Specialist"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://onestepforthelife.com/blog.html?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    <link rel="modulepreload" href="common-navigation.js">
    <link rel="stylesheet" href="common-footer.css">
</head>
<body>

<!-- 30% PREVIEW OVERLAY -->
<div class="preview-overlay"></div>
<div class="preview-message">
    <h2>üîí Preview Mode (30% Visible)</h2>
    
    <p><strong>You're viewing a preview of this market research report.</strong></p>
    
    <div class="highlight">
        <strong>üìä Full Report Includes:</strong><br>
        ‚Ä¢ Complete market analysis & trends<br>
        ‚Ä¢ Detailed pricing & supply chain data<br>
        ‚Ä¢ Competitor analysis & insights<br>
        ‚Ä¢ Future projections & recommendations
    </div>
    
    <div class="access-info">
        <strong>üîê This report is protected by Cloudflare Access</strong><br>
        Professional server-side authentication for enterprise security
    </div>
    
    <p><strong>To access the full report:</strong></p>
    
    <a href="mailto:onestepforthelife@gmail.com?subject=Request Access to Market Report&body=Hi Amit,%0D%0A%0D%0AI would like to request access to the market research report.%0D%0A%0D%0AName:%0D%0ACompany:%0D%0AEmail:%0D%0APurpose:%0D%0A%0D%0AThank you!" 
       class="btn">
        üìß Request Access
    </a>
    
    <a href="https://ideasbeforetime.pages.dev/market-reports.html" 
       class="btn btn-secondary" aria-label="External link (opens in new tab)">
        ‚Üê Back to Reports
    </a>
    
    <p style="margin-top: 20px; font-size: 14px; color: #6b7280;">
        <strong>Already have access?</strong><br>
        Cloudflare Access will authenticate you automatically when you visit this page.
    </p>
</div>

<!-- TEST CONTROLS -->
<div class="test-controls" onclick="togglePreview()">
    Click to Toggle Preview
</div>

<!-- ACTUAL REPORT CONTENT (THIS IS WHAT USERS SEE) -->
<div class="container">
    <h1>Market Research Report - Test Demo</h1>
    
    <div class="section">
        <h2>Executive Summary (VISIBLE - First 30%)</h2>
        <p>This is the executive summary section. Users can see this clearly in preview mode.</p>
        <p>The first 30% of the report is fully visible to give users a taste of the content quality.</p>
        <p>This helps build interest and encourages them to request full access.</p>
    </div>
    
    <div class="section">
        <h2>Market Overview (VISIBLE - First 30%)</h2>
        <p>Market size, growth trends, and key drivers are visible in the preview.</p>
        <p>Users can see the professional quality and depth of analysis.</p>
    </div>
    
    <div class="section">
        <h2>Detailed Analysis (BLURRED - Below 30%)</h2>
        <p>This section is blurred in preview mode. Users need full access to read this.</p>
        <p>Detailed pricing data, supply chain analysis, and competitive intelligence are protected.</p>
        <p>This is where the real value of the report lies.</p>
    </div>
    
    <div class="section">
        <h2>Competitor Analysis (BLURRED - Below 30%)</h2>
        <p>Detailed competitor profiles and market positioning analysis.</p>
        <p>Strategic insights and recommendations for market entry.</p>
        <p>This premium content requires authentication to access.</p>
    </div>
    
    <div class="section">
        <h2>Future Projections (BLURRED - Below 30%)</h2>
        <p>5-year market forecasts and growth projections.</p>
        <p>Investment opportunities and risk analysis.</p>
        <p>Strategic recommendations for stakeholders.</p>
    </div>
    
    <div class="section">
        <h2>Conclusion (BLURRED - Below 30%)</h2>
        <p>Summary of key findings and actionable insights.</p>
        <p>This valuable content is protected by Cloudflare Access.</p>
    </div>
</div>

<script>
function togglePreview() {
    const overlay = document.querySelector('.preview-overlay');
    const message = document.querySelector('.preview-message');
    const blur = document.querySelector('body::after');
    
    if (overlay.style.display === 'none') {
        overlay.style.display = 'block';
        message.style.display = 'block';
        alert('Preview mode ON - This is what unauthenticated users see');
    } else {
        overlay.style.display = 'none';
        message.style.display = 'none';
        alert('Preview mode OFF - This is what authenticated users see (full access)');
    }
}

// Show instructions on load
window.onload = function() {
    alert('üéØ TEST DEMO\n\nThis shows how the 30% preview system works:\n\n‚úÖ First 30% visible clearly\n‚úÖ Remaining 70% blurred\n‚úÖ Professional message box\n‚úÖ Request access button\n\nClick "Click to Toggle Preview" button (bottom right) to see full report view!');
};
</script>

    <script src="error-tracker.js"></script>

<!-- Quick Links Widget -->
<div class="quick-links-widget" style="position: fixed; right: 20px; bottom: 80px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); padding: 20px; width: 250px; z-index: 999; display: none;" id="quickLinksWidget">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h4 style="margin: 0; color: #5a6c7d; font-size: 16px;">üöÄ Quick Access</h4>
        <button onclick="document.getElementById('quickLinksWidget').style.display='none'" style="background: none; border: none; font-size: 20px; cursor: pointer; color: #999;">&times;</button>
    </div>
    <div style="display: grid; gap: 8px;">
        <a href="index.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üè†</span> Home
        </a>
        <a href="blog.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìù</span> Blog (100 posts)
        </a>
        <a href="about.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üë§</span> About
        </a>
        <a href="cv.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìÑ</span> CV
        </a>
        <a href="market-reports.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìä</span> Reports
        </a>
        <a href="social-optimizer-index.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üöÄ</span> Tools
        </a>
        <a href="library.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üìö</span> Library
        </a>
        <a href="innovations.html" style="padding: 8px 12px; background: #f5f5f5; border-radius: 5px; text-decoration: none; color: #333; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.3s;">
            <span>üí°</span> Innovations
        </a>
    </div>
</div>

<!-- Quick Links Toggle Button -->
<button onclick="document.getElementById('quickLinksWidget').style.display='block'" style="position: fixed; right: 20px; bottom: 20px; width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%); color: #2c3e50; border: none; font-size: 24px; cursor: pointer; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 998; transition: transform 0.3s;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
    üîó
</button>

<style>.quick-links-widget a:hover{background:#5a6c7d !important;color: #2c3e50 !important;}@media (max-width: 1400px){.quick-links-widget{right:10px;bottom:70px;width:200px;padding:15px;}}</style>

    <script src="common-navigation.js"></script>
    <script src="common-footer.js"></script>
    <script src="google-adsense.js"></script>
</body>
</html>
