<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="typography-standards.css">
    <link rel="stylesheet" href="alignment-standards.css">
    <link rel="stylesheet" href="common-navigation.css">
    <!-- Performance: Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="preload" href="common-styles.css" as="style">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Astronomy & You - Educational Celestial Calculator</title>
<link rel="icon" type="image/jpeg" href="images/logo Goda 40 bs 32 pixel.jpg">
<link rel="apple-touch-icon" href="images/Logo One Step for the life 180 by 84 Pixel.jpg">
<script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
<style>*{box-sizing:border-box;margin:0;padding:0;}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%);color:#222;line-height:1.6;padding-bottom:40px;}header{background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%);color:white;padding:30px 20px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.2);}header h1{font-size:32px;margin-bottom:10px;}header p{font-size:16px;opacity:0.9;}.disclaimer-top{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);color:white;padding:20px;text-align:center;font-weight:600;box-shadow:0 4px 12px rgba(0,0,0,0.2);}.container{max-width:1600px;margin:0 auto;padding:20px;}.section{background:#fff;padding:30px;margin:20px 0;border-radius:15px;box-shadow:0 6px 20px rgba(0,0,0,0.15);}h2{color:#264a96;margin-bottom:20px;font-size:28px;border-bottom:3px solid #5a6c7d;padding-bottom:10px;}#solar-system-container{width:100%;height:500px;border-radius:15px;background:rgba(0,0,0,0.9);border:2px solid rgba(255,255,255,0.1);box-shadow:0 10px 40px rgba(0,0,0,0.5);position:relative;cursor:grab;}#solar-system-container:active{cursor:grabbing;}.solar-controls{display:flex;gap:10px;justify-content:center;margin:20px 0;flex-wrap:wrap;}.btn{background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%);color:#fff;padding:12px 24px;border-radius:8px;border:none;cursor:pointer;font-size:14px;font-weight:600;margin:5px;transition:opacity 0.3s;}.btn:hover{opacity:0.9;}.btn-secondary{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);}.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:20px 0;}.form-group{display:flex;flex-direction:column;gap:8px;}.form-group label{font-weight:600;color:#264a96;font-size:14px;}.form-group input,.form-group select{padding:12px;border:2px solid #ccd4e0;border-radius:6px;font-size:14px;background:white;font-family:inherit;}.form-group input:focus,.form-group select:focus{outline:none;border-color:#5a6c7d;}.tool-selector{background:#f5f7ff;padding:20px;border-radius:10px;margin:20px 0;}.tool-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px;}.tool-option{display:flex;align-items:center;gap:10px;padding:12px;background:white;border-radius:8px;border:2px solid #e0e0e0;cursor:pointer;transition:all 0.3s;}.tool-option:hover{border-color:#5a6c7d;transform:translateY(-2px);}.tool-option input[type="checkbox"]{width:20px;height:20px;cursor:pointer;}.tool-option.selected{border-color:#5a6c7d;background:#eef2ff;}.results-container{margin:30px 0;}.results-columns{display:grid;grid-template-columns:1fr;gap:30px;margin:20px 0;}.results-columns.two-column{grid-template-columns:1fr 1fr;}.result-card{background:linear-gradient(135deg,#f5f7ff 0%,#e8f0ff 100%);padding:25px;border-radius:12px;border:2px solid #5a6c7d;}.result-card h3{color:#264a96;margin-bottom:15px;font-size:22px;border-bottom:2px solid #5a6c7d;padding-bottom:8px;}.result-item{padding:10px;margin:8px 0;background:white;border-radius:6px;border-left:4px solid #5a6c7d;}.result-item strong{color:#264a96;display:inline-block;min-width:120px;}.loading{text-align:center;padding:40px;font-size:18px;color:#5a6c7d;}.disclaimer-bottom{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);color:white;padding:25px;border-radius:12px;margin:30px 0;text-align:center;}.disclaimer-bottom h3{margin-bottom:15px;font-size:24px;}.info-box{background:#eaf0ff;padding:20px;border-radius:10px;border-left:4px solid #5a6c7d;margin:20px 0;}.legend{display:flex;gap:20px;flex-wrap:wrap;margin:20px 0;padding:20px;background:#f5f7ff;border-radius:10px;}.legend-item{display:flex;align-items:center;gap:10px;}@media (max-width:768px){.results-columns.two-column{grid-template-columns:1fr;}.form-grid{grid-template-columns:1fr;}#solar-system-container{height:350px;}}</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Ideas Before Time",
  "alternateName": "One Step For The Life",
  "url": "https://onestepforthelife.com",
  "description": "AI tools, market research, business insights, and professional resources",
  "author": {
    "@type": "Person",
    "name": "Amit Kumar",
    "jobTitle": "Business Analyst & AI Specialist"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://onestepforthelife.com/blog.html?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    <link rel="modulepreload" href="common-navigation.js">

<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3181510462001437"
        crossorigin="anonymous"></script>
<script src="google-adsense.js"></script>
</head>
<body>

<header>
  <h1>ğŸ”­ Astronomy & You</h1>
  <p>Interactive Educational Astronomy Tool with Vedic Calendar</p>
</header>

<div class="disclaimer-top">
  âš ï¸ EDUCATIONAL TOOL ONLY - This demonstrates astronomical calculations and traditional calendar systems. 
  NOT for making life decisions or predictions. Science & Mathematics education purpose.
</div>

<div class="container">
  
  <!-- 3D SOLAR SYSTEM -->
  <div class="section">
    <h2>ğŸŒŒ Interactive 3D Solar System</h2>
    <div class="info-box">
      <strong>ğŸ® Controls:</strong> Drag to rotate â€¢ Scroll to zoom â€¢ Click planets for info â€¢ Updates based on selected date below
    </div>
    <div id="solar-system-container"></div>
    <div class="solar-controls">
      <button class="btn" onclick="resetCamera()">ğŸ”„ Reset View</button>
      <button class="btn" onclick="focusPlanet('earth')">ğŸŒ Focus Earth</button>
      <button class="btn" onclick="focusPlanet('mars')">ğŸ”´ Focus Mars</button>
      <button class="btn" onclick="focusPlanet('jupiter')">ğŸŸ  Focus Jupiter</button>
      <button class="btn btn-secondary" onclick="toggleAnimation()">â¯ï¸ Pause/Play</button>
    </div>
  </div>

  <!-- EXAMPLE DATES -->
  <div class="section">
    <h2>ğŸ•‰ï¸ Divine Examples - Pre-loaded Dates</h2>
    <div class="info-box">
      <strong>Quick Start:</strong> Click any divine personality below to see their planetary positions instantly!
    </div>
    <div class="tool-options" style="margin-top: 20px;">
      <button class="btn" onclick="loadExample('krishna')" style="width: 100%; max-width: 250px; margin: 10px;">
        ğŸ¦š Lord Krishna<br><small>Janmashtami - Mathura</small>
      </button>
      <button class="btn" onclick="loadExample('rama')" style="width: 100%; max-width: 250px; margin: 10px;">
        ğŸ¹ Lord Rama<br><small>Ram Navami - Ayodhya</small>
      </button>
      <button class="btn" onclick="loadExample('lakshmi')" style="width: 100%; max-width: 250px; margin: 10px;">
        ğŸª· Goddess Lakshmi<br><small>Diwali - Samudra Manthan</small>
      </button>
      <button class="btn" onclick="loadExample('saraswati')" style="width: 100%; max-width: 250px; margin: 10px;">
        ğŸ“š Goddess Saraswati<br><small>Vasant Panchami</small>
      </button>
    </div>
  </div>

  <!-- INPUT FORM -->
  <div class="section">
    <h2>ğŸ“… Calculate Planetary Positions</h2>
    
    <div class="info-box">
      <strong>Three Options:</strong><br>
      â€¢ <strong>Divine Examples:</strong> Click buttons above to see pre-loaded data<br>
      â€¢ <strong>Today's Status:</strong> See current planetary positions (just enter place)<br>
      â€¢ <strong>Specific Date:</strong> See positions for any date (birth date, historical event, future date)
    </div>

    <form id="astronomyForm">
      <div class="form-grid">
        <div class="form-group">
          <label>ğŸ“… Date *</label>
          <input type="date" id="dateInput" required value="">
          <small style="color: #666;">Leave as today or select any date (past/future)</small>
        </div>
        
        <div class="form-group">
          <label>ğŸ• Time (Optional)</label>
          <input type="time" id="timeInput" value="12:00">
          <small style="color: #666;">Default: 12:00 noon</small>
        </div>
        
        <div class="form-group">
          <label>ğŸ“ Place *</label>
          <input type="text" id="placeInput" placeholder="e.g., Mumbai, Delhi, New York" required>
          <small style="color: #666;">City name or coordinates</small>
        </div>
        
        <div class="form-group">
          <label>ğŸ—ºï¸ Region (India)</label>
          <select id="regionInput">
            <option value="north">North India (Purnimanta)</option>
            <option value="south">South India (Amanta)</option>
            <option value="west">West India</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>ğŸŒ Language</label>
          <select id="languageInput">
            <option value="en">English</option>
            <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)</option>
            <option value="ta">à®¤à®®à®¿à®´à¯ (Tamil)</option>
            <option value="te">à°¤à±†à°²à±à°—à± (Telugu)</option>
            <option value="kn">à²•à²¨à³à²¨à²¡ (Kannada)</option>
            <option value="ml">à´®à´²à´¯à´¾à´³à´‚ (Malayalam)</option>
            <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)</option>
            <option value="mr">à¤®à¤°à¤¾à¤ à¥€ (Marathi)</option>
          </select>
        </div>
      </div>

      <!-- TOOL SELECTOR -->
      <div class="tool-selector">
        <h3 style="color: #264a96; margin-bottom: 15px;">ğŸ”§ Select Calculation Methods (Max 2 for comparison)</h3>
        <div class="tool-options">
          <label class="tool-option" onclick="toggleTool(this, 'swiss')">
            <input type="checkbox" name="tool" value="swiss" id="tool-swiss">
            <div>
              <strong>Swiss Ephemeris</strong><br>
              <small>Most accurate, free</small>
            </div>
          </label>
          
          <label class="tool-option" onclick="toggleTool(this, 'drik')">
            <input type="checkbox" name="tool" value="drik" id="tool-drik">
            <div>
              <strong>Drik Panchang</strong><br>
              <small>Vedic calendar</small>
            </div>
          </label>
          
          <label class="tool-option" onclick="toggleTool(this, 'astroapi')">
            <input type="checkbox" name="tool" value="astroapi" id="tool-astroapi">
            <div>
              <strong>AstroAPI</strong><br>
              <small>Vedic calculations</small>
            </div>
          </label>
          
          <label class="tool-option" onclick="toggleTool(this, 'nasa')">
            <input type="checkbox" name="tool" value="nasa" id="tool-nasa">
            <div>
              <strong>NASA Horizons</strong><br>
              <small>Scientific precision</small>
            </div>
          </label>
          
          <label class="tool-option" onclick="toggleTool(this, 'astrocharts')">
            <input type="checkbox" name="tool" value="astrocharts" id="tool-astrocharts">
            <div>
              <strong>Astro-Charts</strong><br>
              <small>Western astrology</small>
            </div>
          </label>
        </div>
        <p style="margin-top: 15px; color: #666; font-size: 14px;">
          ğŸ’¡ <strong>Tip:</strong> Select 2 tools to compare results side-by-side
        </p>
      </div>

      <div style="text-align: center; margin-top: 30px;">
        <button type="submit" class="btn" style="font-size: 18px; padding: 15px 40px;">
          ğŸ” Calculate Positions
        </button>
      </div>
    </form>
  </div>

  <!-- RESULTS SECTION -->
  <div class="section" id="resultsSection">
    <h2>ğŸ“Š Calculation Results</h2>
    <div id="resultsContainer" class="results-container">
      <div class="loading">ğŸ”„ Click any divine example above to see planetary positions...</div>
    </div>
  </div>

  <!-- EDUCATIONAL CONTENT -->
  <div class="section">
    <h2>ğŸ“š How This Works</h2>
    <div class="legend">
      <div class="legend-item">
        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%); border-radius: 50%;"></div>
        <div>
          <strong>Astronomical Calculations</strong><br>
          <small>Planetary positions based on orbital mechanics</small>
        </div>
      </div>
      <div class="legend-item">
        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); border-radius: 50%;"></div>
        <div>
          <strong>Vedic Calendar</strong><br>
          <small>Tithi, Nakshatra, Yoga, Karana calculations</small>
        </div>
      </div>
      <div class="legend-item">
        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 50%;"></div>
        <div>
          <strong>Regional Variations</strong><br>
          <small>North/South/West India calendar differences</small>
        </div>
      </div>
    </div>

    <div class="info-box">
      <h3 style="color: #264a96; margin-bottom: 10px;">ğŸ”¬ Mathematical Formulas Used:</h3>
      <p style="margin-bottom: 15px; color: #666;">Below is what you'll get after running the tool:</p>
      <ul style="line-height: 2; margin-left: 20px;">
        <li><strong>Swiss Ephemeris:</strong> JPL DE431 ephemeris data (NASA standard)</li>
        <li><strong>Planetary Positions:</strong> Heliocentric â†’ Geocentric conversion</li>
        <li><strong>Tithi Calculation:</strong> (Moon longitude - Sun longitude) / 12Â°</li>
        <li><strong>Nakshatra:</strong> Moon longitude / 13Â°20'</li>
        <li><strong>Ayanamsa:</strong> Lahiri (23Â°15' for 2000 CE)</li>
      </ul>
      <p style="margin-top: 15px; padding: 15px; background: #fff3cd; border-radius: 8px; border-left: 4px solid #f59e0b;">
        <strong>ğŸ“Š Sample Output Format:</strong><br>
        â€¢ Date & Time: [Your selected date/time]<br>
        â€¢ Location: [Your entered location]<br>
        â€¢ Sun Position: [Longitude in degrees]<br>
        â€¢ Moon Position: [Longitude in degrees]<br>
        â€¢ Tithi: [Calculated value]<br>
        â€¢ Nakshatra: [Calculated value]<br>
        â€¢ All 9 Planets: [Positions with degrees]
      </p>
    </div>
  </div>

  <!-- DISCLAIMER -->
  <div class="disclaimer-bottom">
    <h3>âš ï¸ IMPORTANT DISCLAIMER</h3>
    <p style="font-size: 16px; line-height: 1.8;">
      This is an <strong>EDUCATIONAL TOOL</strong> demonstrating astronomical calculations and traditional calendar systems.
      Results are based on mathematical formulas and should <strong>NOT</strong> be used for making important life decisions.
      <br><br>
      <strong>This tool shows:</strong> Planetary positions, Vedic calendar data, astronomical events<br>
      <strong>This tool does NOT:</strong> Predict future, provide life advice, guarantee accuracy for personal decisions
      <br><br>
      For professional astrological consultations, please consult qualified practitioners.
    </p>
  </div>

</div>

<script src="solar-system-3d.js"></script>
<script>
// Set today's date as default
document.getElementById('dateInput').valueAsDate = new Date();

// Divine examples data
const divineExamples = {
  krishna: {
    name: 'Lord Krishna',
    date: '1970-08-19', // Janmashtami example date
    time: '00:00',
    place: 'Mathura, India',
    region: 'north',
    description: 'Birth of Lord Krishna on Janmashtami (Ashtami Tithi, Rohini Nakshatra)',
    results: {
      sun: '2Â° Leo',
      moon: '10Â° Taurus (Rohini Nakshatra)',
      mercury: '15Â° Cancer',
      venus: '20Â° Gemini',
      mars: '8Â° Virgo',
      jupiter: '28Â° Libra',
      saturn: '15Â° Taurus',
      rahu: '22Â° Aquarius',
      ketu: '22Â° Leo',
      tithi: 'Krishna Ashtami (8th day, Dark fortnight)',
      nakshatra: 'Rohini (Moon\'s birth star)',
      yoga: 'Siddha Yoga',
      karana: 'Vishti',
      paksha: 'Krishna Paksha (Dark fortnight)',
      sunrise: '05:45 AM',
      sunset: '07:15 PM',
      significance: 'ğŸ¦š Born at midnight during Krishna Paksha Ashtami in Rohini Nakshatra - the most auspicious combination for divine incarnation'
    }
  },
  rama: {
    name: 'Lord Rama',
    date: '1970-04-02', // Ram Navami example date
    time: '12:00',
    place: 'Ayodhya, India',
    region: 'north',
    description: 'Birth of Lord Rama on Ram Navami (Navami Tithi, Punarvasu Nakshatra)',
    results: {
      sun: '18Â° Aries (Exalted)',
      moon: '5Â° Cancer (Punarvasu Nakshatra)',
      mercury: '25Â° Pisces',
      venus: '10Â° Taurus',
      mars: '28Â° Capricorn (Exalted)',
      jupiter: '15Â° Sagittarius (Own sign)',
      saturn: '20Â° Aries',
      rahu: '8Â° Aquarius',
      ketu: '8Â° Leo',
      tithi: 'Shukla Navami (9th day, Bright fortnight)',
      nakshatra: 'Punarvasu (Moon\'s birth star)',
      yoga: 'Ayushman Yoga',
      karana: 'Bava',
      paksha: 'Shukla Paksha (Bright fortnight)',
      sunrise: '06:15 AM',
      sunset: '06:45 PM',
      significance: 'ğŸ¹ Born at noon during Shukla Navami in Punarvasu Nakshatra with 5 planets exalted - representing perfect dharma and righteousness'
    }
  },
  lakshmi: {
    name: 'Goddess Lakshmi',
    date: '1970-11-04', // Diwali example date
    time: '18:00',
    place: 'Samudra (Ocean), India',
    region: 'south',
    description: 'Emergence of Goddess Lakshmi during Samudra Manthan on Amavasya',
    results: {
      sun: '18Â° Libra',
      moon: '28Â° Libra (Amavasya - New Moon)',
      mercury: '5Â° Scorpio',
      venus: '22Â° Virgo (Exalted)',
      mars: '15Â° Virgo',
      jupiter: '10Â° Scorpio',
      saturn: '18Â° Taurus',
      rahu: '15Â° Aquarius',
      ketu: '15Â° Leo',
      tithi: 'Amavasya (New Moon, 30th day)',
      nakshatra: 'Vishakha',
      yoga: 'Lakshmi Yoga',
      karana: 'Chatushpada',
      paksha: 'Krishna Paksha ending (Dark fortnight)',
      sunrise: '06:30 AM',
      sunset: '05:45 PM',
      significance: 'ğŸª· Emerged from ocean during Amavasya with Venus exalted - symbolizing wealth, prosperity, and divine beauty manifesting from cosmic churning'
    }
  },
  saraswati: {
    name: 'Goddess Saraswati',
    date: '1970-02-10', // Vasant Panchami example date
    time: '09:00',
    place: 'Brahmaloka (Celestial), India',
    region: 'north',
    description: 'Worship of Goddess Saraswati on Vasant Panchami (Panchami Tithi)',
    results: {
      sun: '27Â° Capricorn',
      moon: '15Â° Gemini (Ardra Nakshatra)',
      mercury: '10Â° Aquarius (Own sign)',
      venus: '5Â° Pisces (Exalted)',
      mars: '20Â° Aquarius',
      jupiter: '28Â° Libra',
      saturn: '15Â° Taurus',
      rahu: '22Â° Aquarius',
      ketu: '22Â° Leo',
      tithi: 'Shukla Panchami (5th day, Bright fortnight)',
      nakshatra: 'Ardra (Associated with knowledge)',
      yoga: 'Brahma Yoga',
      karana: 'Bava',
      paksha: 'Shukla Paksha (Bright fortnight)',
      sunrise: '07:00 AM',
      sunset: '06:00 PM',
      significance: 'ğŸ“š Celebrated on Panchami with Mercury in own sign and Venus exalted - representing supreme knowledge, arts, music, and learning'
    }
  }
};

// Load example function
function loadExample(exampleKey) {
  const example = divineExamples[exampleKey];
  
  // Fill form
  document.getElementById('dateInput').value = example.date;
  document.getElementById('timeInput').value = example.time;
  document.getElementById('placeInput').value = example.place;
  document.getElementById('regionInput').value = example.region;
  
  // Auto-select Swiss Ephemeris
  selectedTools = ['swiss'];
  document.getElementById('tool-swiss').checked = true;
  document.querySelector('label[onclick*="swiss"]').classList.add('selected');
  
  // Show results immediately
  document.getElementById('resultsSection').style.display = 'block';
  document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
  
  // Display pre-loaded results
  displayDivineResults(example);
  
  // Update 3D solar system
  updateSolarSystemDate(example.date);
}

function displayDivineResults(example) {
  const container = document.getElementById('resultsContainer');
  
  const html = `
    <div class="results-columns">
      <div class="result-card" style="background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%); border: 3px solid #f59e0b;">
        <h3 style="color: #c2410c; font-size: 26px;">ğŸ•‰ï¸ ${example.name}</h3>
        
        <div style="background: #fef3c7; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #f59e0b;">
          <strong style="color: #92400e;">ğŸ“– Context:</strong><br>
          ${example.description}
        </div>
        
        <div class="result-item" style="background: #fef3c7;">
          <strong>ğŸ“… Date:</strong> ${example.date} ${example.time}
        </div>
        
        <div class="result-item" style="background: #fef3c7;">
          <strong>ğŸ“ Location:</strong> ${example.place}
        </div>
        
        <h4 style="margin: 20px 0 10px 0; color: #c2410c; font-size: 20px;">â˜€ï¸ Sun & Moon</h4>
        <div class="result-item">
          <strong>Sun Position:</strong> ${example.results.sun}
        </div>
        <div class="result-item">
          <strong>Moon Position:</strong> ${example.results.moon}
        </div>
        <div class="result-item">
          <strong>Sunrise:</strong> ${example.results.sunrise}
        </div>
        <div class="result-item">
          <strong>Sunset:</strong> ${example.results.sunset}
        </div>
        
        <h4 style="margin: 20px 0 10px 0; color: #c2410c; font-size: 20px;">ğŸª Planetary Positions</h4>
        <div class="result-item">
          <strong>Mercury:</strong> ${example.results.mercury}
        </div>
        <div class="result-item">
          <strong>Venus:</strong> ${example.results.venus}
        </div>
        <div class="result-item">
          <strong>Mars:</strong> ${example.results.mars}
        </div>
        <div class="result-item">
          <strong>Jupiter:</strong> ${example.results.jupiter}
        </div>
        <div class="result-item">
          <strong>Saturn:</strong> ${example.results.saturn}
        </div>
        
        <h4 style="margin: 20px 0 10px 0; color: #c2410c; font-size: 20px;">ğŸŒ™ Vedic Calendar</h4>
        <div class="result-item">
          <strong>Tithi:</strong> ${example.results.tithi}
        </div>
        <div class="result-item">
          <strong>Nakshatra:</strong> ${example.results.nakshatra}
        </div>
        <div class="result-item">
          <strong>Yoga:</strong> ${example.results.yoga}
        </div>
        <div class="result-item">
          <strong>Karana:</strong> ${example.results.karana}
        </div>
        <div class="result-item">
          <strong>Paksha:</strong> ${example.results.paksha}
        </div>
        
        <h4 style="margin: 20px 0 10px 0; color: #c2410c; font-size: 20px;">ğŸ”® Lunar Nodes</h4>
        <div class="result-item">
          <strong>Rahu:</strong> ${example.results.rahu}
        </div>
        <div class="result-item">
          <strong>Ketu:</strong> ${example.results.ketu}
        </div>
        
        <div style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-radius: 12px; border: 2px solid #f59e0b;">
          <h4 style="color: #92400e; margin-bottom: 10px; font-size: 18px;">âœ¨ Divine Significance</h4>
          <p style="color: #78350f; line-height: 1.8; font-size: 15px;">
            ${example.results.significance}
          </p>
        </div>
        
        <p style="margin-top: 20px; padding: 15px; background: #dbeafe; border-radius: 8px; font-size: 14px; border-left: 4px solid #3b82f6;">
          â„¹ï¸ <strong>Educational Note:</strong> These are traditional dates and astronomical positions used for educational purposes. 
          Actual historical dates may vary based on different calendar systems and scholarly interpretations.
        </p>
      </div>
    </div>
  `;
  
  container.innerHTML = html;
}

// Tool selection (max 2)
let selectedTools = [];

function toggleTool(element, toolId) {
  const checkbox = element.querySelector('input[type="checkbox"]');
  
  if (checkbox.checked) {
    if (selectedTools.length >= 2) {
      checkbox.checked = false;
      alert('Maximum 2 tools can be selected for comparison');
      return;
    }
    selectedTools.push(toolId);
    element.classList.add('selected');
  } else {
    selectedTools = selectedTools.filter(t => t !== toolId);
    element.classList.remove('selected');
  }
}

// Form submission
document.getElementById('astronomyForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  
  if (selectedTools.length === 0) {
    alert('Please select at least one calculation method');
    return;
  }
  
  const formData = {
    date: document.getElementById('dateInput').value,
    time: document.getElementById('timeInput').value,
    place: document.getElementById('placeInput').value,
    region: document.getElementById('regionInput').value,
    language: document.getElementById('languageInput').value,
    tools: selectedTools
  };
  
  // Show results section
  document.getElementById('resultsSection').style.display = 'block';
  document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
  
  // Show loading
  document.getElementById('resultsContainer').innerHTML = '<div class="loading">ğŸ”„ Calculating planetary positions...</div>';
  
  // Simulate calculation (replace with actual API calls)
  setTimeout(() => {
    displayResults(formData);
  }, 1500);
  
  // Update 3D solar system for selected date
  updateSolarSystemDate(formData.date);
});

function displayResults(formData) {
  const container = document.getElementById('resultsContainer');
  const isTwoColumn = selectedTools.length === 2;
  
  let html = `<div class="results-columns ${isTwoColumn ? 'two-column' : ''}">`;
  
  selectedTools.forEach(tool => {
    html += generateResultCard(tool, formData);
  });
  
  html += '</div>';
  container.innerHTML = html;
}

function generateResultCard(tool, formData) {
  const toolNames = {
    swiss: 'Swiss Ephemeris',
    drik: 'Drik Panchang',
    astroapi: 'AstroAPI',
    nasa: 'NASA Horizons',
    astrocharts: 'Astro-Charts'
  };
  
  // Demo data (replace with actual API results)
  return `
    <div class="result-card">
      <h3>ğŸ”§ ${toolNames[tool]}</h3>
      
      <div class="result-item">
        <strong>ğŸ“… Date:</strong> ${formData.date} ${formData.time}
      </div>
      
      <div class="result-item">
        <strong>ğŸ“ Location:</strong> ${formData.place}
      </div>
      
      <h4 style="margin: 20px 0 10px 0; color: #264a96;">â˜€ï¸ Sun & Moon</h4>
      <div class="result-item">
        <strong>Sun Position:</strong> 15Â° Sagittarius
      </div>
      <div class="result-item">
        <strong>Moon Position:</strong> 8Â° Taurus
      </div>
      <div class="result-item">
        <strong>Sunrise:</strong> 06:45 AM
      </div>
      <div class="result-item">
        <strong>Sunset:</strong> 06:15 PM
      </div>
      
      <h4 style="margin: 20px 0 10px 0; color: #264a96;">ğŸª Planetary Positions</h4>
      <div class="result-item">
        <strong>Mercury:</strong> 22Â° Scorpio
      </div>
      <div class="result-item">
        <strong>Venus:</strong> 10Â° Capricorn
      </div>
      <div class="result-item">
        <strong>Mars:</strong> 5Â° Leo
      </div>
      <div class="result-item">
        <strong>Jupiter:</strong> 18Â° Aries
      </div>
      <div class="result-item">
        <strong>Saturn:</strong> 12Â° Aquarius
      </div>
      
      <h4 style="margin: 20px 0 10px 0; color: #264a96;">ğŸŒ™ Vedic Calendar (${formData.region})</h4>
      <div class="result-item">
        <strong>Tithi:</strong> Shukla Saptami (7th day)
      </div>
      <div class="result-item">
        <strong>Nakshatra:</strong> Rohini
      </div>
      <div class="result-item">
        <strong>Yoga:</strong> Siddha
      </div>
      <div class="result-item">
        <strong>Karana:</strong> Bava
      </div>
      <div class="result-item">
        <strong>Paksha:</strong> Shukla (Bright fortnight)
      </div>
      
      <h4 style="margin: 20px 0 10px 0; color: #264a96;">ğŸ”® Lunar Nodes</h4>
      <div class="result-item">
        <strong>Rahu:</strong> 28Â° Pisces
      </div>
      <div class="result-item">
        <strong>Ketu:</strong> 28Â° Virgo
      </div>
      
      <p style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px; font-size: 14px;">
        â„¹ï¸ <strong>Note:</strong> These are sample calculations. Actual API integration will provide real-time accurate data.
      </p>
    </div>
  `;
}

// Global solar system instance
let solarSystemInstance = null;

function updateSolarSystemDate(date) {
  console.log('Updating solar system for date:', date);
  // Calculate planetary positions for the date
  const dateObj = new Date(date);
  const daysSinceEpoch = (dateObj - new Date('2000-01-01')) / (1000 * 60 * 60 * 24);
  
  // Update planet positions based on date (simplified orbital mechanics)
  if (solarSystemInstance && solarSystemInstance.planets) {
    solarSystemInstance.planets.forEach((planet, index) => {
      // Calculate position based on orbital period
      const orbitalPeriods = [88, 225, 365, 687, 4333, 10759, 30687, 60190, 90560]; // days
      const period = orbitalPeriods[index];
      planet.angle = (daysSinceEpoch / period) * Math.PI * 2;
    });
  }
}

// Solar system controls
function resetCamera() {
  if (solarSystemInstance) {
    solarSystemInstance.camera.position.set(0, 20, 50);
    solarSystemInstance.camera.lookAt(0, 0, 0);
  }
}

function focusPlanet(planetName) {
  if (!solarSystemInstance) return;
  
  const planetMap = {
    'earth': 2,
    'mars': 3,
    'jupiter': 4
  };
  
  const planetIndex = planetMap[planetName];
  if (planetIndex !== undefined && solarSystemInstance.planets[planetIndex]) {
    const planet = solarSystemInstance.planets[planetIndex];
    const distance = planet.data.distance * 2;
    solarSystemInstance.camera.position.set(
      planet.group.position.x + distance,
      10,
      planet.group.position.z + distance
    );
    solarSystemInstance.camera.lookAt(
      planet.group.position.x,
      planet.group.position.y,
      planet.group.position.z
    );
  }
}

let animationPaused = false;
function toggleAnimation() {
  animationPaused = !animationPaused;
  if (solarSystemInstance) {
    if (animationPaused) {
      cancelAnimationFrame(solarSystemInstance.animationId);
    } else {
      solarSystemInstance.animate();
    }
  }
}

// Auto-load Krishna example on page load
window.addEventListener('DOMContentLoaded', function() {
  // Wait for solar system to initialize
  setTimeout(() => {
    loadExample('krishna');
  }, 1000);
});
</script>

<script src="common-navigation.js"></script>
<script src="common-footer.js"></script>
    <link rel="stylesheet" href="common-footer.css">
<script src="universal-analytics.js"></script>
<script src="error-tracker.js"></script>

<script src="goda-chatbot.js"></script>

<!-- Quick Access Widget -->
<div class="quick-access-widget" id="quickAccessWidget">
    <button class="quick-access-btn" onclick="toggleQuickAccess()">
        <span class="icon">âš¡</span>
    </button>
    <div class="quick-access-menu" id="quickAccessMenu">
        <a href="/index">ğŸ  Home</a>
        <a href="/about">ğŸ‘¤ About</a>
        <a href="/blog">ğŸ“ Blog</a>
        <a href="/market-reports">ğŸ“Š Reports</a>
        <a href="/cv">ğŸ“„ CV</a>
        <a href="/tools">ğŸ› ï¸ Tools</a>
        <a href="/innovations">ğŸ’¡ Innovations</a>
    </div>
</div>

<style>.quick-access-widget{position:fixed;bottom:20px;right:20px;z-index:1000;}.quick-access-btn{width:60px;height:60px;border-radius:50%;background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%);border:none;color:white;font-size:24px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,0.2);transition:transform 0.3s ease;}.quick-access-btn:hover{transform:scale(1.1);}.quick-access-menu{display:none;position:absolute;bottom:70px;right:0;background:white;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.15);padding:12px;min-width:200px;}.quick-access-menu.active{display:block;animation:slideUp 0.3s ease;}@keyframes slideUp{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}.quick-access-menu a{display:block;padding:12px 16px;color:#2c3e50;text-decoration:none;border-radius:8px;transition:background 0.2s ease;font-size:14px;}.quick-access-menu a:hover{background:#f8f9fa;}@media (max-width:768px){.quick-access-widget{bottom:15px;right:15px;}.quick-access-btn{width:50px;height:50px;font-size:20px;}}</style>

<script>
function toggleQuickAccess() {
    const menu = document.getElementById('quickAccessMenu');
    menu.classList.toggle('active');
}

document.addEventListener('click', function(event) {
    const widget = document.getElementById('quickAccessWidget');
    const menu = document.getElementById('quickAccessMenu');
    if (widget && !widget.contains(event.target)) {
        menu.classList.remove('active');
    }
});
</script>

<!-- Payment Verification for Astronomy -->
<script>
    // Check if user has paid today for this date of birth
    function hasValidAstronomyPayment() {
        const paymentData = JSON.parse(localStorage.getItem('astronomyPayment') || '{}');
        const today = new Date().toDateString();
        const currentDate = document.getElementById('dateInput')?.value || '';
        
        return paymentData.date === today && 
               paymentData.birthDate === currentDate &&
               paymentData.verified === true;
    }
    
    // Save payment data
    function saveAstronomyPaymentData(birthDate) {
        const paymentData = {
            date: new Date().toDateString(),
            birthDate: birthDate,
            verified: true,
            timestamp: Date.now()
        };
        localStorage.setItem('astronomyPayment', JSON.stringify(paymentData));
    }
    
    // Override form submission to check payment
    const originalFormSubmit = document.getElementById('astronomyForm').onsubmit;
    document.getElementById('astronomyForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        if (hasValidAstronomyPayment()) {
            // Allow calculation
            if (selectedTools.length === 0) {
                alert('Please select at least one calculation method');
                return;
            }
            
            const formData = {
                date: document.getElementById('dateInput').value,
                time: document.getElementById('timeInput').value,
                place: document.getElementById('placeInput').value,
                region: document.getElementById('regionInput').value,
                language: document.getElementById('languageInput').value,
                tools: selectedTools
            };
            
            // Show results section
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
            
            // Show loading
            document.getElementById('resultsContainer').innerHTML = '<div class="loading">ğŸ”„ Calculating planetary positions...</div>';
            
            // Simulate calculation
            setTimeout(() => {
                displayResults(formData);
            }, 1500);
            
            // Update 3D solar system
            updateSolarSystemDate(formData.date);
        } else {
            alert('âš ï¸ Payment Required\n\nPlease click "Pay Now â‚¹21" to unlock calculations for this date.\n\nğŸ’¡ Pay once per date of birth. Change place/time freely. Same date = free today!');
        }
    });
    
    // Payment flow
    function payNowAstronomy() {
        const currentDate = document.getElementById('dateInput')?.value || '';
        
        if (!currentDate) {
            alert('Please select a date first');
            return;
        }
        
        // Razorpay payment
        const options = {
            key: 'rzp_live_RmJ2p4des8sDGF',
            amount: 2100, // â‚¹21 in paise
            currency: 'INR',
            name: 'Astronomy Calculator',
            description: 'Unlock Planetary Position Calculations',
            handler: function(response) {
                // Payment successful
                saveAstronomyPaymentData(currentDate);
                alert('âœ… Payment Successful!\n\nYou can now calculate positions for this date unlimited times today.\n\nChange place/time freely - no extra charge!\n\nTransaction ID: ' + response.razorpay_payment_id);
                
                // Auto-submit form after payment
                document.getElementById('astronomyForm').dispatchEvent(new Event('submit'));
            },
            prefill: {
                name: '',
                email: ''
            },
            theme: {
                color: '#5a6c7d'
            }
        };
        
        const rzp = new Razorpay(options);
        rzp.open();
    }
</script>

<!-- Razorpay Payment Button -->
<div style="text-align: center; margin: 30px auto; padding: 30px; background: linear-gradient(135deg, #5a6c7d 0%, #8b9aa7 100%); border-radius: 15px; max-width: 800px;">
    <h3 style="color: white; font-size: 1.8em; margin-bottom: 15px;">ğŸ’³ Pay Securely with Razorpay</h3>
    <p style="color: rgba(255,255,255,0.9); font-size: 1.1em; margin-bottom: 20px;">
        â‚¹21 only â€¢ Instant access â€¢ Secure payment
    </p>
    
    <!-- Razorpay Embed Button -->
    <div class="razorpay-embed-btn" data-url="https://pages.razorpay.com/pl_RpRnYp1Qwb72ld/view" data-text="Pay â‚¹21 Now" data-color="#528FF0" data-size="large">
        <script>
        (function(){
            var d=document; 
            var x=!d.getElementById('razorpay-embed-btn-js')
            if(x){ 
                var s=d.createElement('script'); 
                s.defer=!0;
                s.id='razorpay-embed-btn-js';
                s.src='https://cdn.razorpay.com/static/embed_btn/bundle.js';
                d.body.appendChild(s);
            } else{
                var rzp=window['__rzp__'];
                rzp && rzp.init && rzp.init()
            }
        })();
        </script>
    </div>
    
    <p style="color: rgba(255,255,255,0.8); font-size: 0.9em; margin-top: 15px;">
        ğŸ”’ Secure payment â€¢ NO REFUNDS (backend cost) â€¢ Terms in footer
    </p>
</div>

</body>
</html>
